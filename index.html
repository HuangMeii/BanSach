<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>4 Title Layers Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
        <!-- CSS FILES -->
                <!--font chữ : Montserrat và Sono            -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&family=Sono:wght@200;300;400;500;700&display=swap" rel="stylesheet">
                        
                 <!-- link bootstrap và các thư viện khác -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/bootstrap-icons.css">
        <link rel="stylesheet" href="css/owl.carousel.min.css">
        <link rel="stylesheet" href="css/owl.theme.default.min.css">
                 
                 <!-- link css -->
        <link href="css/templatemo-pod-talk.css" rel="stylesheet">
        <link href="OanhGia/css/style-header.css" rel="stylesheet">
        <link href="css/style-hu.css" rel="stylesheet">
  <style>

/* 
    .header-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 500;
        }
        
        .menu-button {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 50;
            font-size: 1.875rem;
            color: #f87171;
            background: none;
            border: none;
            cursor: pointer;
            outline: none;
            transition: transform 0.2s;
        }
        
        .menu-button:hover {
            color: #fca5a5;
            transform: scale(1.15);
        }
        
        .menu-icon {
            width: 2.5rem;
            height: 2.5rem;
            transition: transform 0.3s;
        }
        
        .menu-icon.rotate-90 {
            transform: rotate(90deg);
        }
        
        .menu-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to right, #1a1a1a, #380000);
            backdrop-filter: blur(16px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            z-index: 40;
            display: none;
        }
        
        .menu-nav {
            max-width: 1280px;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }
        
        .menu-list {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1.25rem;
            font-weight: 600;
        }
        
        @media (min-width: 768px) {
            .menu-list {
                flex-direction: row;
                height: 4rem;
                padding: 1.25rem;
                gap: 2rem;
            }
        }
        
        .menu-link {
            color: #fecaca;
            transition: color 0.2s;
        }
        
        .menu-link:hover {
            color: white;
        } */


    body {
      margin: 0;
      background: radial-gradient(circle at center, #4a0f0f, #1a0000);
      overflow-x: hidden;
    }

    /* Phần trống đầu trang */
    #empty-space {
      height: 100vh;
      width: 100%;
      position: relative;
      z-index: 20;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
    }

    .floating {
      position: fixed;
      width: 7rem;
      height: 10rem;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-weight: bold;
      font-size: 16px;
      line-height: 60px;
      text-align: center;
      border: 2px solid white;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255, 0, 128, 0.8);
      animation-timing-function: linear;
      opacity: 1;
      pointer-events: none;
      z-index: 100;
      transition: opacity 0.5s ease;
      overflow: hidden;
    }

    .floating.visible {
      opacity: 1;
    }

    .titles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 10;
      pointer-events: none;
    }

    .title {
      position: absolute;
      top: 50%;
      left: 50%;
      font-size: 10vw;
      font-weight: 900;
      font-style: italic;
      text-transform: uppercase;
      white-space: nowrap;
      opacity: 0;
      transform: translate(-50%, -50%);
      transition: opacity 0.3s ease;
    }

    .visible {
      opacity: 1;
    }


    #final-section {
      position: relative;
      height: 100vh;
      background: #111;
      color: white;
      text-align: center;
      padding-top: 20vh;
      font-size: 2rem;
      opacity: 0;
      transition: opacity 1s ease;
      z-index: 5;
    }

    #final-section.visible {
      opacity: 1;
    }

    /* Custom Carousel Styles */
    .owl-carousel .owl-stage {
      display: flex;
      align-items: center;
      padding: 0px 0;
      margin: 20px 0;
    }

    .owl-carousel .owl-item {
      transition: all 0.5s ease;
      opacity: 0.6;
      transform: scale(0.75);
      z-index: 1;
    }

    .owl-carousel .owl-item.center {
      opacity: 1;
      transform: scale(1);
      z-index: 2;
    }

    .owl-carousel .owl-item.center .owl-carousel-info-wrap {
      background: rgba(255, 255, 255, 0.1);
      box-shadow: 0 10px 30px rgba(74, 72, 72, 0.781);
      border-radius: 15px;
      padding: 15px;
    }

    .owl-carousel .owl-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      transform: translateY(-50%);
      display: flex;
      justify-content: space-between;
      pointer-events: none;
    }

    .owl-carousel .owl-nav button {
      pointer-events: auto;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.2) !important;
      color: white !important;
      font-size: 24px !important;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 20px;
      transition: all 0.3s ease;
    }

    .owl-carousel .owl-nav button:hover {
      background: rgba(255, 255, 255, 0.4) !important;
      transform: scale(2.4);
    }

    .owl-carousel .owl-dots {
      margin-top: 20px;
    }

    .owl-carousel .owl-dots button.owl-dot span {
      background: rgba(255, 255, 255, 0.5) !important;
      transition: all 0.3s ease;
    }

    .owl-carousel .owl-dots button.owl-dot.active span {
      background: white !important;
      transform: scale(1.3);
    }
  </style>
</head>
<body>

    <div id="header-animation">
            <div class="header-container">
            <!-- Menu Button -->
            <button id="menuButton" class="menu-button" aria-label="Toggle menu">
                <img id="menuIcon" src="picture/poster/logo.webp" alt="Menu Icon" class="menu-icon">
            </button>
            
            <!-- Menu Panel -->
            <div id="menuPanel" class="menu-panel">
                <nav class="menu-nav">
                    <ul class="menu-list" style="list-style-type: none; text-transform: uppercase;">
                        <li><a href="#" class="menu-link">Giới thiệu</a></li>
                        <li><a href="#" class="menu-link">Trang chủ</a></li>
                        <li><a href="#" class="menu-link">Lịch sử</a></li>
                        <li><a href="#" class="menu-link">Liên hệ</a></li>
                        <li><a href="DanhGia/danhgia.html" class="menu-link">Đánh giá</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
<!-- Phần trống đầu trang -->
<div id="empty-space">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-12">
        <div class="text-center mb-5 pb-2">
          <h1 class="text-white">Đến và đọc cùng chúng tôi!</h1>
          <p class="text-white">Chào mừng bạn đến với thế giới của sách</p>
          <p>Đọc ở bất cứ nơi đâu. Trải nghiệm mới, kiến thức mới.</p>
          <a href="#section_2" class="btn custom-btn smoothscroll mt-3">Bắt đầu đọc</a>
        </div>

        <div class="owl-carousel owl-theme">
          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/dacnhantam.png" class="poster" alt="Đắc Nhân Tâm">
            <div class="info">
              <h4 class="mb-2">Dale Carnegie</h4>
              <span class="badge">Phát triển bản thân</span>
            </div>
          </div>
          
          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/tutodenvidai.jpg" class="poster" alt="Từ Đến Vĩ Đại">
            <div class="info">
              <h4 class="mb-2">Jim Collins</h4>
              <span class="badge">Kinh doanh</span>
              <span class="badge">Khởi nghiệp</span>
            </div>
          </div>

          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/nhagiakim.jpg" class="poster" alt="Nhà Giả Kim">
            <div class="info">
              <h4 class="mb-2">Paulo Coelho</h4>
              <span class="badge">Văn học kinh điển</span>
            </div>
          </div>

          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/nhungnguoikhonkho.jpg" class="poster" alt="Những Người Khốn Khổ">
            <div class="info">
              <h4 class="mb-2">Victor Hugo</h4>
              <span class="badge">Tiểu thuyết</span>
            </div>
          </div>

          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/luocsuloainguoi.png" class="poster" alt="Lược Sử Loài Người">
            <div class="info">
              <h4 class="mb-2">Yuval Noah Harari</h4>
              <span class="badge">Khoa học</span>
              <span class="badge">Công nghệ</span>
            </div>
          </div>

          <div class="owl-carousel-info-wrap item">
            <img src="picture/poster/tuduynhanhcham.jpg" class="poster" alt="Tư Duy Nhanh và Chậm">
            <div class="info">
              <h4 class="mb-2">Daniel Kahneman</h4>
              <span class="badge">Tâm lí học</span>
            </div>
          </div>
          
        </div>
      </div>
    </div>
    <h1></h1>

  </div>
</div>

<div class="titles">
  <div class="title title-1">
    <div class="Hu1">
            <img src="picture/poster/dacnhantam.png" class="poster" alt="Đắc Nhân Tâm">
            <div class="Hu2">
              <h4 class="mb-2">Dale Carnegie</h4>
              <span class="Hu3">Phát triển bản thân</span>
            </div>
    </div>
  </div>
  <div class="title title-2">
    <div class="Hu1">
      <img src="picture/poster/tutodenvidai.jpg" class="poster" alt="Từ Đến Vĩ Đại">
      <div class="Hu2">
        <h4 class="mb-2">Jim Collins</h4>
        <div class="Hu23">
          <span class="Hu3" style="width: 6rem;">Kinh doanh</span>
          <span class="Hu3">Khởi nghiệp</span>
        </div>
      </div>
    </div>
  </div>
  <div class="title title-3">          
    <div class="Hu1">
        <img src="picture/poster/nhagiakim.jpg" class="poster" alt="Nhà Giả Kim">
        <div class="Hu2">
          <h4 class="mb-2">Paulo Coelho</h4>
          <span class="Hu3" >Văn học kinh điển</span>
        </div>
      </div>
    </div>
  <div class="title title-4">
    <div class="Hu1">
      <img src="picture/poster/nhungnguoikhonkho.jpg" class="poster" alt="Những Người Khốn Khổ">
      <div class="Hu2">
        <h4 class="mb-2">Victor Hugo</h4>
        <span class="Hu3">Tiểu thuyết</span>
      </div>
    </div>

  </div>
</div>

<!-- Spacer để tạo chiều dài trang -->
<div id="spacer" style="height: 500vh;"></div>

<!-- Phần div đặc biệt cuối trang -->
<div id="final-section">
  <h1>Kiến thức là vô tận, học hỏi mọi lúc</h1>
  <p>Mừng bạn đến với thế giới sách của chúng tôi</p>
</div>
    <div id="custom-cursor"></div>

<script>

  class CustomCursor {
    constructor() {
        this.element = document.getElementById('custom-cursor');
        // Initialize your custom cursor here
        console.log('Custom Cursor initialized');
        this.setupEventListeners();
    }
    
    setupEventListeners() {
        document.addEventListener('mousemove', (e) => {
            this.moveCursor(e);
        });
    }
    
    moveCursor(e) {
        this.element.style.transform = `translate(${e.clientX}px, ${e.clientY}px)`;
    }
}

// // Initialize components when DOM is loaded
// document.addEventListener('DOMContentLoaded', () => {
//     new HeaderAnimation();
//     new CustomCursor();
// }); 


// // header
//         document.addEventListener('DOMContentLoaded', function() {
//             const menuButton = document.getElementById('menuButton');
//             const menuIcon = document.getElementById('menuIcon');
//             const menuPanel = document.getElementById('menuPanel');
//             let isOpen = false;
            
//             // Initialize menu panel
//             gsap.set(menuPanel, {
//                 display: 'none',
//                 x: '100%',
//                 opacity: 0
//             });
            
//             // Toggle menu function
//             function toggleMenu() {
//                 isOpen = !isOpen;
                
//                 // Toggle icon rotation
//                 if (isOpen) {
//                     menuIcon.classList.add('rotate-90');
//                 } else {
//                     menuIcon.classList.remove('rotate-90');
//                 }
                
//                 // Animate menu panel
//                 if (isOpen) {
//                     gsap.set(menuPanel, { display: 'block' });
//                     gsap.fromTo(menuPanel,
//                         { x: '100%', opacity: 0 },
//                         {
//                             x: '0%',
//                             opacity: 1,
//                             duration: 0.8,
//                             ease: 'power2.out'
//                         }
//                     );
//                 } else {
//                     gsap.to(menuPanel, {
//                         x: '100%',
//                         opacity: 0,
//                         duration: 0.8,
//                         ease: 'power2.in',
//                         onComplete: () => {
//                             gsap.set(menuPanel, { display: 'none' });
//                         }
//                     });
//                 }
//             }
            
//             // Add click event to menu button
//             menuButton.addEventListener('click', toggleMenu);
            
//             // Close menu when clicking on links (optional)
//             const menuLinks = document.querySelectorAll('.menu-link');
//             menuLinks.forEach(link => {
//                 link.addEventListener('click', function() {
//                     if (isOpen) {
//                         toggleMenu();
//                     }
//                 });
//             });
//         });



const t1 = document.querySelector(".title-1");
const t2 = document.querySelector(".title-2");
const t3 = document.querySelector(".title-3");
const t4 = document.querySelector(".title-4");
const finalSection = document.getElementById("final-section");
const emptySpace = document.getElementById("empty-space");

const floatingElements = [];
let floatingElementsActivated = false;

window.addEventListener("scroll", () => {
  const scrollY = window.scrollY;
  const vh = window.innerHeight;
  const totalHeight = document.body.scrollHeight;

  // Kiểm tra nếu đang ở phần trống đầu trang
  if (scrollY < vh) {
    [t1, t2, t3, t4].forEach(t => t.classList.remove("visible"));
    deactivateFloatingElements();
    floatingElementsActivated = false;
    return;
  }

  // Kích hoạt hoặc tắt floating elements
  if (!floatingElementsActivated && scrollY > 3 * vh) {
    activateFloatingElements();
    floatingElementsActivated = true;
  } else if (floatingElementsActivated && scrollY < 5 * vh - 200) {
    deactivateFloatingElements();
    floatingElementsActivated = false;
  }

  // Hiệu ứng các dòng chữ creative
  if (scrollY + vh >= totalHeight - 500) {
    [t1, t2, t3, t4].forEach(t => t.classList.remove("visible"));
    finalSection.classList.add("visible");
  } else {
    [t1, t2, t3, t4].forEach(t => {
      t.classList.remove("visible");
      t.style.transform = "translate(-50%, -50%)";
    });

    if (scrollY < 2 * vh) {
      t1.classList.add("visible");
      t1.style.transform = `translate(calc(-50% - ${(scrollY - vh) * 0.4}px), -50%)`;
    } else if (scrollY < 3 * vh) {
      t2.classList.add("visible");
      t2.style.transform = `translate(calc(-50% + ${(scrollY - 2 * vh) * 0.4}px), -50%)`;
    } else if (scrollY < 4 * vh) {
      t3.classList.add("visible");
      const scale3 = 1 + (scrollY - 3 * vh) * 0.001;
      const move3 = (scrollY - 3 * vh) * 0.4;
      t3.style.transform = `translate(calc(-50% + ${move3}px), -50%) scale(${scale3})`;
    } else if (scrollY < 5 * vh) {
      t4.classList.add("visible");
      const scale4 = 1 + (scrollY - 4 * vh) * 0.001;
      const move4 = (scrollY - 4 * vh) * 0.4;
      t4.style.transform = `translate(calc(-50% - ${move4}px), -50%) scale(${scale4})`;
    }

    finalSection.classList.remove("visible");
  }
});

// Hàm kích hoạt floating elements
function activateFloatingElements() {
  const NUM_ELEMENTS = 8;
  const NguonAnh = [
  'picture/poster/dacnhantam.png',
  'picture/poster/tutodenvidai.jpg',
  'picture/poster/nhagiakim.jpg',
  'picture/poster/nhungnguoikhonkho.jpg',
  'picture/poster/luocsuloainguoi.png', 
  'picture/poster/tuduynhanhcham.jpg',
  'picture/demenphieuluuki.jpg',
  'picture/thaotungtamli.jpg',
];
  const width = window.innerWidth;
  const height = window.innerHeight;

  for (let i = 0; i < NUM_ELEMENTS; i++) {
    const el = document.createElement('div');
    el.className = 'floating';

    const img = document.createElement('img');
    img.src = NguonAnh[i]; // lấy ảnh tương ứng
    img.alt = `Ảnh ${i + 1}`;
    img.style.width = '100%'; // tuỳ chỉnh nếu muốn
    img.style.height = '100%';
    img.style.zIndex = '20'; // bo góc ảnh
    img.style.objectFit = 'cover'; // giữ nguyên tỷ lệ ảnh
    
    el.appendChild(img);
    document.body.appendChild(el);

    const edge = Math.floor(Math.random() * 4);
    let startX, startY, deltaX, deltaY;

    switch (edge) {
      case 0:
        startX = -130;
        startY = Math.random() * height;
        deltaX = width + 200;
        deltaY = (Math.random() - 0.5) * 300;
        break;
      case 1:
        startX = Math.random() * width;
        startY = -70;
        deltaX = (Math.random() - 0.5) * 300;
        deltaY = height + 200;
        break;
      case 2:
        startX = width + 130;
        startY = Math.random() * height;
        deltaX = - (width + 200);
        deltaY = (Math.random() - 0.5) * 300;
        break;
      case 3:
        startX = Math.random() * width;
        startY = height + 70;
        deltaX = (Math.random() - 0.5) * 300;
        deltaY = - (height + 200);
        break;
    }

    el.style.left = startX + 'px';
    el.style.top = startY + 'px';

    const duration = Math.random() * 20 + 20;
    const delay = Math.random() * 3;
    const animationName = `float${i}-${Date.now()}`;

    // Tạo stylesheet động nếu chưa có
    let styleSheet = document.getElementById('dynamic-styles');
    if (!styleSheet) {
      styleSheet = document.createElement('style');
      styleSheet.id = 'dynamic-styles';
      document.head.appendChild(styleSheet);
    }
    
    styleSheet.sheet.insertRule(`
      @keyframes ${animationName} {
        0% { transform: translate(0, 0); }
        100% { transform: translate(${deltaX}px, ${deltaY}px); }
      }
    `, styleSheet.sheet.cssRules.length);

    el.style.animationName = animationName;
    el.style.animationDuration = duration + 's';
    el.style.animationDelay = delay + 's';
    el.style.animationIterationCount = 'infinite';
    el.style.animationTimingFunction = 'linear';

    el.classList.add('visible');
    document.body.appendChild(el);
    floatingElements.push(el);
  }
}

// Hàm tắt floating elements
function deactivateFloatingElements() {
  floatingElements.forEach(el => {
    el.classList.remove('visible');
    el.remove();
  });
  floatingElements.length = 0;
}
</script>
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/owl.carousel.min.js"></script>

<!-- Khởi tạo carousel -->
<script>
  $(document).ready(function(){
    $(".owl-carousel").owlCarousel({
      loop: true,
      margin: 120,
      center: true,
      nav: true,
      dots: true,
      autoplay: true,
      autoplayTimeout: 2000,
      autoplayHoverPause: true,
      smartSpeed: 500,
      responsive: {
        0: { 
          items: 1,
          margin: 10
        },
        600: { 
          items: 2,
          margin: 40
        },
        1000: { 
          items: 3,
          margin: 80
        }
      },
      onInitialized: centerItem,
      onChanged: centerItem
    });

    function centerItem(event) {
      $('.owl-item').removeClass('center');
      $('.owl-item.active').eq(Math.floor($('.owl-item.active').length / 2)).addClass('center');
    }

    $('.owl-carousel .owl-nav button').on('click', function() {
      var owl = $('.owl-carousel');
      owl.trigger('stop.owl.autoplay');
      owl.trigger('play.owl.autoplay', [3000]);
    });
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
<script src="js/custom.js"></script>
<script src="OanhGia/js/header.js"></script>

</body>
</html>